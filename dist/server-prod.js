!function(e){var t={},n={0:0};function a(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.e=function(t){if(0!==n[t]){var a=require("./"+({}[t]||t)+".js"),r=a.modules,c=a.ids;for(var l in r)e[l]=r[l];for(var o=0;o<c.length;o++)n[c[o]]=0}return Promise.all([])},a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/static/",a.oe=function(e){process.nextTick((function(){throw e}))},a(a.s=27)}([function(e,t){e.exports=require("react")},function(e,t){e.exports=require("prop-types")},function(e,t){e.exports=require("react-redux")},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"h",(function(){return r})),n.d(t,"g",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"i",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"f",(function(){return m})),n.d(t,"k",(function(){return d})),n.d(t,"l",(function(){return f})),n.d(t,"j",(function(){return E})),n.d(t,"m",(function(){return v}));var a="ADD_USERS",r="SET_SEED",c="SET_PAGE",l="LOAD_INITIAL_USERS",o="START_LOADING_USERS",i="FINISH_LOADING_USERS",s="ADD_NEXT_BATCH_OF_USERS",u="FILTER_USERS",m="SELECT_USER",d=function(){return{type:l}},f=function(){return{type:"SCROLL_TO_THE_BOTTOM_OF_THE_PAGE"}},E=function(e){return{type:u,searchText:e}},v=function(e){return{type:m,uuid:e}}},function(e,t){e.exports=require("react-router-dom")},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("express")},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a="SET_NATIONALITY_SETTINGS",r=function(e,t,n){return{type:"UPDATE_NATIONALITY_SETTINGS",nationalityName:e,nationalityLabel:t,checked:n}}},function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(1),l=n.n(c),o=n(4),i=n(3),s=n(2);n(17);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],a=!0,r=!1,c=void 0;try{for(var l,o=e[Symbol.iterator]();!(a=(l=o.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(e){r=!0,c=e}finally{try{a||null==o.return||o.return()}finally{if(r)throw c}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var m=function(){var e=Object(s.useDispatch)(),t=u(Object(a.useState)(""),2),n=t[0],c=t[1],l=Object(a.useCallback)((function(t){var n=t.target.value;c(n),e(Object(i.j)(n))}));return r.a.createElement("form",{className:"form-inline"},r.a.createElement("input",{className:"search-users-input form-control mr-sm-2",type:"search",placeholder:"Search by name","aria-label":"Search",value:n,onChange:l}))},d=(n(18),function(e){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.NavLink,{className:"nav-link",to:"/",exact:!0},"Home")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.NavLink,{className:"nav-link",to:"/settings",exact:!0},"Settings"))),e.showSearch?r.a.createElement(m,null):null)});d.propTypes={showSearch:l.a.bool};t.a=d},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("react-dom/server")},function(e,t){e.exports=require("redux")},function(e,t){e.exports=require("react-router")},function(e,t){e.exports=require("react-dom")},function(e,t){e.exports=require("classnames")},function(e,t){e.exports=require("react-hot-loader/root")},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){var a=n(6).Router();a.get("/health",(function(e,t){return t.json({success:!0})})),e.exports=a},function(e,t,n){"use strict";n.r(t);var a=n(5),r=n.n(a),c=n(6),l=n.n(c),o=n(9),i=n.n(o),s=n(0),u=n.n(s),m=n(10),d=n(11),f=n(2),E=n(3),v=n(7);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(n,!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var N=function(e,t){return""===t?e:e.filter((function(e){return"".concat(e.name.first," ").concat(e.name.last).toLowerCase().includes(t.toLowerCase())}))},y={nationalities:{ch:{name:"ch",label:"CH",enabled:!0},es:{name:"es",label:"ES",enabled:!0},fr:{name:"fr",label:"FR",enabled:!0},gb:{name:"gb",label:"GB",enabled:!0}},users:[],allUsers:[],nextBatchOfUsers:[],selectedUser:null,page:0,batchSize:50,maxCatalogLength:1e3,loading:!1,filterPattern:"",seed:void 0},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.b:var n=[].concat(h(e.allUsers),h(t.users));return b({},e,{users:N(n,e.filterPattern),allUsers:n,nextBatchOfUsers:[]});case E.h:return b({},e,{seed:t.seed});case E.g:return b({},e,{page:t.page});case E.i:return b({},e,{loading:!0});case E.d:return b({},e,{loading:!1});case E.a:return b({},e,{nextBatchOfUsers:h(t.users)});case E.c:var a=N(e.allUsers,t.searchText);return b({},e,{users:a,filterPattern:t.searchText});case v.a:return b({},e,{nationalities:b({},e.nationalities,g({},t.nationalityName,{name:t.nationalityName,label:t.nationalityLabel,enabled:t.checked}))});case E.e:return b({},e,{users:[],allUsers:[],nextBatchOfUsers:[],seed:void 0});case E.f:var r=null!==t.uuid?e.allUsers.find((function(e){return e.login.uuid===t.uuid})):null;return b({},e,{selectedUser:r});default:return e}},S=n(12),j=(n(15),n(4)),w=(n(16),function(){return u.a.createElement("div",{className:"loading-container row"},u.a.createElement("div",{className:"loading spinner-border"},u.a.createElement("span",{className:"sr-only"},"Loading...")))}),_=n(8),x=function(){var e=Object(f.useSelector)((function(e){return e.maxCatalogLength})),t=Object(f.useSelector)((function(e){return e.allUsers}));return function(){return t.length>=e}},T=function(){var e=Object(f.useSelector)((function(e){return e.allUsers})),t=Object(f.useDispatch)();Object(s.useEffect)((function(){0===e.length&&t(Object(E.k)())}),[])},P=function(e){var t=Object(f.useDispatch)(),n=Object(s.useCallback)((function(){document.body.clientHeight-(window.scrollY+window.innerHeight)<800&&t(e())}));Object(s.useEffect)((function(){return window.addEventListener("scroll",n),function(){window.removeEventListener("scroll",n)}}),[])},U=n(1),A=n.n(U),C=(n(19),function(e){var t=e.user,n=Object(f.useDispatch)(),a=Object(s.useCallback)((function(){n(Object(E.m)(t.login.uuid))}));return u.a.createElement("tr",{key:t.login.uuid,className:"user-row",onClick:a},u.a.createElement("td",null,u.a.createElement("img",{src:t.picture.thumbnail,className:"rounded",alt:"User picture",width:"48",height:"48"})),u.a.createElement("td",null,t.name.first),u.a.createElement("td",null,t.name.last),u.a.createElement("td",null,t.login.username),u.a.createElement("td",null,t.email))});C.propTypes={user:A.a.shape({login:A.a.shape({uuid:A.a.string.isRequired,username:A.a.string.isRequired}),picture:A.a.shape({thumbnail:A.a.string}),name:A.a.shape({first:A.a.string.isRequired,last:A.a.string.isRequired}),email:A.a.string})};var R=C,L=(n(20),function(){return u.a.createElement("p",{className:"row end-catalog"},"End of users catalog")});n(21);var q=function(){T(),P(E.l);var e=x(),t=Object(f.useSelector)((function(e){return e.users})),n=Object(f.useSelector)((function(e){return e.loading}));return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"row"},u.a.createElement("table",{className:"users-table table"},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",{scope:"col"},"Picture"),u.a.createElement("th",{scope:"col"},"First Name"),u.a.createElement("th",{scope:"col"},"Last Name"),u.a.createElement("th",{scope:"col"},"Username"),u.a.createElement("th",{scope:"col"},"Email"))),u.a.createElement("tbody",null,t.map((function(e){return u.a.createElement(R,{key:e.login.uuid,user:e})}))))),n?u.a.createElement(w,null):null,e()?u.a.createElement(L,null):null)},k=n(13),D=n.n(k),I=n(14),F=n.n(I),H=(n(22),function(e){var t=e.visible,n=e.title,a=e.children,r=e.onClose,c=F()("modal",{visible:t});return u.a.createElement("div",{className:c,tabIndex:"-1",onClick:function(e){"userModal"===e.target.id&&r(e)},role:"dialog",id:"userModal"},u.a.createElement("div",{className:"modal-dialog",role:"document"},u.a.createElement("div",{className:"modal-content"},n?u.a.createElement("div",{className:"modal-header"},u.a.createElement("h5",{className:"modal-title"},n),u.a.createElement("button",{type:"button",className:"close","aria-label":"Close",onClick:r},u.a.createElement("span",{"aria-hidden":"true"},"×"))):null,u.a.createElement("div",{className:"modal-body"},a),u.a.createElement("div",{className:"modal-footer"},u.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:r},"Close")))))});H.propTypes={visible:A.a.bool,title:A.a.string,children:A.a.element.isRequired,onClose:A.a.func.isRequired};var B=function(e){return function(e,t){var n=null;if("undefined"!=typeof window&&window.document){var a=document.querySelector(t);null!==a&&(n=D.a.createPortal(e,a))}return n}(u.a.createElement(H,e),"#modal-root")};B.propTypes={visible:A.a.bool,title:A.a.string,children:A.a.element.isRequired,onClose:A.a.func.isRequired};var G=B,M=(n(23),function(){var e=Object(f.useSelector)((function(e){return e.selectedUser})),t=Object(f.useDispatch)();return e?u.a.createElement(G,{title:"User Details",visible:!0,onClose:function(){t(Object(E.m)(null))}},u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col"},"Firstname"),u.a.createElement("div",{className:"col"},e.name.first)),u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col"},"Lastname"),u.a.createElement("div",{className:"col"},e.name.last)),u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col"},"Username"),u.a.createElement("div",{className:"col"},e.login.username)),u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col"},"Email"),u.a.createElement("div",{className:"col"},e.email)),u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col"},"Street"),u.a.createElement("div",{className:"col"},e.location.street.name)),u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col"},"City"),u.a.createElement("div",{className:"col"},e.location.city)),u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col"},"State"),u.a.createElement("div",{className:"col"},e.location.state)),u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col"},"Country"),u.a.createElement("div",{className:"col"},e.location.country)),u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col"},"Postcode"),u.a.createElement("div",{className:"col"},e.location.postcode)),u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col"},"Phone"),u.a.createElement("div",{className:"col"},e.phone)),u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col"},"Cell"),u.a.createElement("div",{className:"col"},e.cell))):null});n(24);var Y=function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement(_.a,{showSearch:!0}),u.a.createElement("div",{className:"container"},u.a.createElement(q,null),u.a.createElement(M,null)))},z=(n(25),u.a.lazy((function(){return n.e(1).then(n.bind(null,29))}))),J=function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"App"},u.a.createElement(j.Switch,null,u.a.createElement(j.Route,{exact:!0,path:"/",component:Y}),u.a.createElement(j.Route,{exact:!0,path:"/settings",render:function(){return u.a.createElement(s.Suspense,{fallback:u.a.createElement(w,null)},u.a.createElement(z,null))}}))))},X=n(26),K=l()(),Q=process.env.PORT||3e3;K.use("/static",l.a.static(r.a.join(__dirname,"..","dist"))),K.get("/favicon.ico/",(function(e,t){t.sendFile(r.a.join(__dirname,"..","dist/favicon.ico"))})),K.get("/manifest.json/",(function(e,t){t.sendFile(r.a.join(__dirname,"..","dist/manifest.json"))})),K.get("/robots.txt/",(function(e,t){t.sendFile(r.a.join(__dirname,"..","dist/robots.txt"))})),K.use("/",X),K.get("/*",(function(e,t){var n=Object(d.createStore)(O),a=Object(m.renderToString)(u.a.createElement(f.Provider,{store:n},u.a.createElement(S.StaticRouter,{location:e.originalUrl,context:{}},u.a.createElement(J,null)))),c=n.getState();t.send(function(e,t){var n=i.a.readFileSync(r.a.resolve(__dirname,"..","dist","index.html"),"utf8"),a=JSON.stringify(t).replace(/</g,"\\u003c");return n=n.replace('<div id="root"></div>'," <script> window.__PRELOADED_STATE__ = ".concat(a,' <\/script><div id="root">').concat(e,"</div>")),console.log(n),n}(a,c))})),K.listen(Q)}]);